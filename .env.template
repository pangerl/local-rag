# -----------------------------------------------------------------------------
# Local RAG - Environment Variables Template
#
# 说明:
# 1. 将此文件复制为 .env
# 2. 根据您的环境需求修改 .env 文件中的值
# 3. 未设置的变量将使用代码中的默认值
# -----------------------------------------------------------------------------

# --- 数据与模型路径 ---
# 数据文件基础路径
DATA_PATH=data

# 嵌入模型目录名 (位于 DATA_PATH/models/ 下)
EMBEDDING_MODEL_DIR=Qwen3-Embedding-0.6B

# 重排序模型目录名 (位于 DATA_PATH/models/ 下)
RERANKER_MODEL_DIR=Qwen3-Reranker-0.6B


# --- 模型配置 ---
# 嵌入模型的查询指令 (如果模型不需要则留空)
# 例如: "Instruct: Given a web search query, retrieve relevant passages that answer the query\nQuery:"
EMBEDDING_INSTRUCTION="Instruct: Given a web search query, retrieve relevant passages that answer the query\nQuery:"

# 重排序模型的指令 (如果模型不需要则留空)
# 例如: "Given a web search query, retrieve relevant passages that answer the query"
RERANKER_INSTRUCTION="Given a web search query, retrieve relevant passages that answer the query"

# 模型运行设备 ('cpu', 'cuda', 'mps' 等)
EMBEDDING_DEVICE=cpu
RERANKER_DEVICE=cpu

# 模型最大序列长度
EMBEDDING_MAX_LENGTH=8192
RERANKER_MAX_LENGTH=512

# 嵌入模型批处理大小
EMBEDDING_BATCH_SIZE=32


# --- 数据库配置 ---
# ChromaDB 集合名称
COLLECTION_NAME=documents


# --- 分片与检索配置 ---
# 默认分片大小（词元数）
DEFAULT_CHUNK_SIZE=500

# 默认分片重叠（词元数）
DEFAULT_CHUNK_OVERLAP=50

# 默认检索候选文档数量
DEFAULT_RETRIEVAL_K=10

# 默认返回结果数量
DEFAULT_TOP_K=3


# --- 日志配置 ---
# 日志级别 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE=logs/app.log


# --- API 服务配置 ---
# API 服务主机
API_HOST=0.0.0.0

# API 服务端口
API_PORT=8000

# --- 支持的文件格式 ---
# 注意: pydantic-settings 会自动解析 JSON 格式的字符串
# 例如: SUPPORTED_FORMATS='[".txt", ".md", ".pdf", ".docx", ".doc"]'
SUPPORTED_FORMATS='[".txt", ".md", ".pdf", ".docx", ".doc"]'
